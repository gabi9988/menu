let selectedOptions = [];

function handleOptionClick(event) {
  const choice = event.target.innerText;
  selectedOptions.push(choice);
  triggerConfetti();

  setTimeout(() => {
    stepIndex++;
    if (stepIndex < steps.length) {
      renderStep();
    } else {
      showChecklist();
    }
  }, 1200);
}

function showChecklist() {
  let checklistHTML = selectedOptions.map((opt, i) => `<li><strong>Etapa ${i + 1}:</strong> ${opt}</li>`).join('');
  stepDiv.innerHTML = `
    <p class="question">Anotado!</p>
    <ul style="text-align: left; list-style: none; padding: 0; margin-top: 15px; font-size: 1rem; color: #b3003c;">
      ${checklistHTML}
    </ul>
  `;
  setTimeout(showFinalMessage, 3500);
}

function showFinalMessage() {
  stepDiv.innerHTML = `
    <p class="question">Agora pode acender a vela e curtir a noite...</p>
    <button class="te-amo-btn" onclick="window.open('https://tenor.com/pt-BR/view/old-man-gif-2502981170789291664')">
      Te amo!
    </button>
  `;
}
